!function(){for(var a,b=function(){},c=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],d=c.length,e=window.console=window.console||{};d--;)a=c[d],e[a]||(e[a]=b)}();var Origami=function(a,b){this._interacting=!1,this._interactingOffset={top:-1,left:-1},this.dimensions={width:-1,outerWidth:-1,height:-1,outerHeight:-1},this.elements={},this.hovering=!1,this.isOpen=!1,this.namespace="origami",this.offset={left:-1,top:-1},this.options={method:"css",kami:">.kami",speed:350,touch:!1},this.selectors={body:"body",window:window},this.initialize(a,b)};!function(a,b,c){var d=function(){for(var a,b=3,c=document.createElement("div"),d=c.getElementsByTagName("i");c.innerHTML="<!--[if gt IE "+ ++b+"]><i></i><![endif]-->",d[0];);return b>4?b:a}();Origami.prototype._bindEvents=function(){var a=this;this.elements.origami.on("mouseenter mouseleave",function(b){a.hover(b)}),this.elements.origami.on("click",function(){a._interactionMoving||a.toggle(),a._interacting=!1,a._interactionMoving=!1}),b.addEventListener&&(this.elements.origami[0].addEventListener("touchstart",function(b){a._touchStart(b)},!1),this.elements.origami[0].addEventListener("touchmove",function(b){a._touchMove(b)},!1),this.elements.origami[0].addEventListener("touchend",function(b){a._touchEnd(b)},!1))},Origami.prototype._build=function(){var b=this;this.elements.kami.each(function(c){var d=b.elements.kami.eq(c);d.wrap('<div class="kami-wrapper" />');var e=d.parent();d.data("$wrapper",e);var f=d.clone().appendTo(e);d.data("$peek",f),f.addClass("kami-peek");var g=a('<span class="kami-shadow" />').appendTo(f);d.data("$shadow",g),f.wrap('<div class="kami-peek-mask" />');var h=f.parent();d.data("$peekMask",h),d.wrap('<div class="kami-mask" />');var i=d.parent();d.data("$kamiMask",i),0==c&&e.addClass("on-top"),e.css(a.extend({zIndex:10*(b.elements.kami.length-c)},b._prefixCSS({perspective:4*b.elements.origami.width()+"px"}))),h.add(i).css(b._prefixCSS({"backface-visibility":"hidden","transform-style":"preserve-3d","transform-origin":"0 0"})),i.css(b._prefixCSS({transform:"rotateY("+(0==c?0:90)+"deg)","transform-origin":"100% 0"})),g.css(b._prefixCSS({transition:"opacity "+b.options.speed+"ms linear"}))}),this.offset=this.elements.origami.offset(),this.dimensions={width:this.elements.origami.width(),outerWidth:this.elements.origami.outerWidth(),height:this.elements.origami.height(),outerHeight:this.elements.origami.outerHeight()}},Origami.prototype._getElements=function(){var b=this;a.each(this.selectors,function(c,d){a.isPlainObject(d)?(b.elements[c]=b.elements[c]||{},a.each(d,function(d,e){b.elements[c][d]=a(e)})):b.elements[c]=a(d)}),this.elements.kami=a(this.options.kami,this.elements.origami)},Origami.prototype._getKami=function(a){var b={kami:this.elements.kami.eq(a)};return b.wrapper=b.kami.data("$wrapper"),b.kamiMask=b.kami.data("$kamiMask"),b.peekMask=b.kami.data("$peekMask"),b.shadow=b.kami.data("$shadow"),b},Origami.prototype._hasCSSFeature=function(a){var b=!1,d="Webkit Moz ms O Khtml".split(" "),e=document.createElement("div"),f=null;if(a=a.toLowerCase(),e.style[a]&&(b=!0),b===!1){f=a.charAt(0).toUpperCase()+a.substr(1);for(var g=0;g<d.length;g++)if(e.style[d[g]+f]!==c){b=!0;break}}return b},Origami.prototype._run=function(){for(var a=[],b=0;b<arguments.length;b++)a.push(arguments[b]);var c=a[0],d=a.length>1?a.slice(1):[];return"function"==typeof this[c]?this[c].apply(this,d):"undefined"!=typeof this[c]?this[c]:void 0},Origami.prototype._prefixCSS=function(a,b){var b=b||!1,c=["moz","ms","o","webkit"];if(d&&9>d)return a;for(var e in a){var f=a[e];for(var g in c)valuePrefix=b?"-"+c[g]+"-":"",a["-"+c[g]+"-"+e]=valuePrefix+f}return a},Origami.prototype._touchEnd=function(a){if(this.options.touch===!1)return!1;if(this._interacting=!1,this._interactingOffset.end=this._touchOffset(a),this._interactionMoving){var b=Math.abs(this._interactingOffset.left/this.dimensions.outerWidth)>=.33;b&&this.isOpen?this.close(0):b&&!this.isOpen?this.open(0):!b&&this.isOpen?this.open(0):b||this.isOpen||this.close(0)}},Origami.prototype._touchMove=function(a){if(this.options.touch===!1)return!1;if(this._interacting){a.preventDefault(),this._interactionMoving=!0;var b=this._touchOffset(a),c=this;this._interactingOffset.top=b.top-this._interactingOffset.start.top,this._interactingOffset.left=b.left-this._interactingOffset.start.left,this.elements.kami.each(function(a){var d=c._getKami(a),e=(b.left-c.offset.left)/c.dimensions.outerWidth;d.wrapper.css("z-index",10*(.5>=e?a+1:c.elements.kami.length-a)),0==a&&(d.peekMask.css(c._prefixCSS({transform:"rotateY("+Math.max(-90,Math.min(180*e-180,0))+"deg)"})),d.shadow.css("opacity",(1-e)/4)),1==a&&d.kamiMask.css(c._prefixCSS({transform:"rotateY("+Math.max(Math.min(180*e,90),0)+"deg)"}))})}},Origami.prototype._touchOffset=function(a){var b={top:-1,left:-1};return a.touches?a.touches.length&&(a.touches[0].pageY&&(b.top=a.touches[0].pageY),a.touches[0].pageX&&(b.left=a.touches[0].pageX)):(b.top=a.screenY,b.left=a.screenX),b},Origami.prototype._touchStart=function(a){var b=this;if(this.options.touch===!1)return!1;this._interacting=!0,this._interactionMoving=!1;var c=this._touchOffset(a);this._interactingOffset={top:c.top,left:c.left,start:{top:c.top,left:c.left}},this.elements.kami.each(function(a){var c=b._getKami(a);c.peekMask.add(c.kamiMask).add(c.shadow).css(b._prefixCSS({transition:"transform 0ms linear"},!0)),c.wrapper.css(b._prefixCSS({transition:"z-index 0ms 0ms linear"}))})},Origami.prototype.close=function(b){var c=this,b=b||c.options.speed/3*2;this.isOpen=!1,this.elements.origami.removeClass("open hover"),this.elements.kami.eq(0).data("$wrapper").show(),this.elements.kami.each(function(d){var e=c._getKami(d);e.wrapper.css(a.extend(c._prefixCSS({transition:"z-index 0s "+b+"ms"}),{zIndex:10*(c.elements.kami.length-d)})),1==d&&e.kamiMask.css(a.extend(c._prefixCSS({transition:"transform "+b+"ms 0ms linear"},!0),c._prefixCSS({transform:"rotateY(90deg)"}))),e.peekMask.css(a.extend(c._prefixCSS({transition:"transform "+(c.options.speed-b)+"ms "+b+"ms linear"},!0),c._prefixCSS({transform:"rotateY(0deg)"})))}),this.elements.kami.eq(0).data("$shadow").css(a.extend(this._prefixCSS({transition:"opacity "+(c.options.speed-b)+"ms "+b+"ms linear"}),{opacity:0})),"animate"==this.options.method&&this.elements.kami.each(function(a){var b=c._getKami(a);b.wrapper.css({opacity:a%2}).animate({opacity:(a+1)%2,zIndex:10*(c.elements.kami.length-a)},c.options.speed)}),setTimeout(function(){c._interacting=!1},this.options.speed-b)},Origami.prototype.hover=function(b){if(this.isOpen||this._interacting)return!1;this.elements.origami.removeClass("hover"),b!=c&&"mouseenter"==b.type&&this.elements.origami.addClass("hover"),this.hovering=this.elements.origami.hasClass("hover");var d={};d=this.hovering?a.extend(this._prefixCSS({transition:"transform "+this.options.speed/3+"ms linear"},!0),this._prefixCSS({transform:"rotateY(-30deg)"})):a.extend(this._prefixCSS({transition:"transform "+this.options.speed+"ms linear"},!0),this._prefixCSS({transform:"rotateY(0deg)"})),this.elements.kami.eq(0).data("$peekMask").css(d);var e={};e=this.hovering?a.extend({opacity:.1},this._prefixCSS({transition:"opacity "+this.options.speed/3+"ms linear"})):a.extend({opacity:0},this._prefixCSS({transition:"opacity "+this.options.speed+"ms linear"})),this.elements.kami.eq(0).data("$shadow").css(e)},Origami.prototype.initialize=function(b){this.options=a.extend(this.options,arguments[1][0]||{},a(b).data()),this._hasCSSFeature("animation")||(this.options.method="animate"),this.selectors.origami=b,this._getElements(),this._build(),this._bindEvents()},Origami.prototype.open=function(b){var c=this,b=b||c.options.speed/3*2;this.isOpen=!0,this.elements.origami.removeClass("hover").addClass("open"),this.elements.kami.each(function(d){var e=c._getKami(d);e.wrapper.css(a.extend(c._prefixCSS({transition:"z-index 0s "+b+"ms"}),{zIndex:10*(d+1)})),0==d&&e.peekMask.css(a.extend(c._prefixCSS({transition:"transform "+b+"ms 0ms linear"},!0),c._prefixCSS({transform:"rotateY(-90deg)"}))),e.kamiMask.css(a.extend(c._prefixCSS({transition:"transform "+c.options.speed+"ms "+b+"ms ease-out"},!0),c._prefixCSS({transform:"rotateY(0deg)"})))}),this.elements.kami.eq(0).data("$shadow").css(a.extend({opacity:.25},this._prefixCSS({transition:"opacity "+b+"ms 0ms linear"}))),"animate"==this.options.method&&this.elements.kami.each(function(a){var b=c._getKami(a);b.wrapper.css({opacity:(a+1)%2}).animate({opacity:a%2,zIndex:10*(a+1)},c.options.speed)})},Origami.prototype.option=function(a,b){return b!=c&&(this.options[a]=b),this.options[a]},Origami.prototype.toggle=function(){this.isOpen?this.close():this.open()},a.extend(a.fn,{origami:function(){var b=action=arguments,c=this;return this.each(function(){var d=a.data(this,"Origami");if(d||(d=new Origami(this,b),a.data(this,"Origami",d)),action.length>0){var e=d._run.apply(d,action);"undefined"!=typeof e&&(c=e)}}),c}})}(jQuery,window,null);
//# sourceMappingURL=js/map/source-map-plugins.js